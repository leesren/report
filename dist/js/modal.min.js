"use strict";!function(n){function i(){return e(s)}function t(){return e(r)}function e(n){var i=[];for(var t in n)i.push(n[t]);return i.join(" ")}var o="undefined"!=typeof o?o:!1,a="touchstart",r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},s={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},m=function(){this.init()};m.version="0.0.1",m.prototype.init=function(){this.buttonPressedEvent=a,this.transitionEndEventName=o?s[o.prefixed("transition")]:i(),this.animationEndEventName=o?r[o.prefixed("animation")]:t(),this.transitionAnimationEndEvent=this.animationEndEventName+" "+this.transitionEndEventName},m.prototype.getViewportHeight=function(){var i=document.documentElement,t=i.clientHeight,e=n.innerHeight;return e>t?e:t},n.Effeckt=new m}(this);
!function(t){var e=t.Effeckt,s=function(){return this instanceof s?void this.init():new s};s.version="0.0.1",s.prototype.init=function(t,e){this.$body=$("body"),this.$element=null,this.$overlay=null,this.isShown=!1,this.hasPerspective=!1,this.modalEffeckt="",this.modalEffecktOut="",this.modalEffecktProvided=!0,this.parentEl=t,this.currentEl=e,this.bindUIActionsDIY(t,e)},s.prototype.bindUIActionsDIY=function(t,s){$(t).on(e.buttonPressedEvent,s,$.proxy(this.open,this)),$(document).on(e.buttonPressedEvent,'.effeckt-modal-close, [data-effeckt-dismiss="modal"]',$.proxy(this.close,this))},s.prototype.open=function(t){if(t.preventDefault(),!this.isShown){var s=$(t.target),i=s.data("effeckt-target");this.$element=$(i||"#effeckt-modal-wrap"),this.$element.length&&(this.modalEffeckt=s.data("effeckt-type"),this.modalEffecktOut=s.data("effeckt-out-type"),s.data("effeckt-needs-perspective")&&(this.$body.addClass("effeckt-perspective"),this.hasPerspective=!0),this.$element.hasClass(this.modalEffeckt)||void 0===this.modalEffeckt?this.showModal():(this.modalEffecktProvided=!1,this.$element.addClass(this.modalEffeckt),this.$element.on(e.transitionAnimationEndEvent,$.proxy(function(){this.$element.off(e.transitionAnimationEndEvent),this.showModal()},this))))}},s.prototype.close=function(t){t.preventDefault(),this.isShown&&(this.$element.on(e.transitionAnimationEndEvent,$.proxy(function(){this.$element.off(e.transitionAnimationEndEvent),this.hideModal()},this)),this.$element.removeClass("effeckt-show"),this.isShown=!1,this.modalEffecktOut&&this.$element.addClass(this.modalEffecktOut))},s.prototype.showModal=function(){this.addOverlay(),this.$element.addClass("effeckt-show"),this.isShown=!0},s.prototype.hideModal=function(){this.modalEffecktOut&&(this.$element.removeClass(this.modalEffecktOut),this.modalEffecktOut=""),this.hasPerspective&&(this.$body.removeClass("effeckt-perspective"),this.hasPerspective=!1),this.removeOverlay(),this.$element.removeClass(this.modalEffeckt),this.modalEffeckt=""},s.prototype.addOverlay=function(){var t=[];t.push('class="effeckt-overlay effeckt-modal-overlay"'),t.push('id="effeckt-modal-overlay"'),t.push('data-effeckt-dismiss="modal"'),this.$overlay=$("<div "+t.join(" ")+" />").insertAfter(this.$element),this.$overlay[0].offsetWidth},s.prototype.removeOverlay=function(){this.$overlay.remove(),this.$overlay=null},t.Effeckt.Modal=s()}(this);
var EffecktPageTransitions={fromPage:"",toPage:"",isAnimating:!1,isNextPageEnd:!1,isCurrentPageEnd:!1,transitionInEffect:"",transitionOutEffect:"",init:function(){this.initPages(),this.bindUIActions()},initPages:function(){var t=$("[data-effeckt-page]");this.fromPage=t.first().addClass("effeckt-page-active")},bindUIActions:function(){var t=this;$(".effeckt-page-transition-button").on(Effeckt.buttonPressedEvent,function(i){i.preventDefault();var e=$(this).data("effeckt-transition-in"),n=$(this).data("effeckt-transition-out");transitionPage=$(this).data("effeckt-transition-page"),$(this).data("effeckt-needs-perspective")&&$("html").addClass("md-perspective"),t.transitionPage(transitionPage,e,n)})},transitionPage:function(t,i,e){if(this.isAnimating)return!1;this.isAnimating=!0,this.isCurrentPageEnd=!1,this.isNextPageEnd=!1,this.transitionInEffect=i,this.transitionOutEffect=e,this.fromPage=$("[data-effeckt-page].effeckt-page-active"),this.toPage=$('[data-effeckt-page="'+t+'"]'),this.toPage.addClass("effeckt-page-animating effeckt-page-active "+this.transitionInEffect),this.fromPage.addClass("effeckt-page-animating"),this.fromPage.addClass(this.transitionOutEffect);var n=this;this.toPage.on(Effeckt.transitionAnimationEndEvent,function(){n.toPage.off(Effeckt.transitionAnimationEndEvent),n.isNextPageEnd=!0,n.isCurrentPageEnd&&n.resetTransition()}),this.fromPage.on(Effeckt.transitionAnimationEndEvent,function(){n.fromPage.off(Effeckt.transitionAnimationEndEvent),n.isCurrentPageEnd=!0,n.isNextPageEnd&&n.resetTransition()})},resetTransition:function(){this.isAnimating=!1,this.isCurrentPageEnd=!1,this.isNextPageEnd=!1,this.fromPage.removeClass("effeckt-page-animating effeckt-page-active "+this.transitionOutEffect),this.toPage.removeClass("effeckt-page-animating "+this.transitionInEffect),$("html").removeClass("md-perspective")}};EffecktPageTransitions.init();